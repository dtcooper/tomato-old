<html>
<head>
    <link href="{{ STATIC }}css/nes.min.css" rel="stylesheet">
    <style>
      {% for name, url in fonts %}
          @font-face {
            font-family: '{{ name }}';
            src: url('{{ url }}');
          }
      {% endfor %}

      html, body, pre, code, kbd, samp {
        font-family: 'press-start-2p';
      }

      h1 {
        font-weight: normal;
      }

      body {
        margin: 5px;
      }

      .items > *:not(:last-child) {
        margin-bottom: 24px;
      }

      .nes-container:not(:last-child) {
        margin-bottom: 12px;
      }

      .tomato-img {
        height: 36px;
        width: 36px;
        image-rendering: pixelated;
        vertical-align: middle;
      }
    </style>

    <script src="{{ STATIC }}js/jquery.min.js"></script>
    <script>
        $(function() {
            $('#font').change(function() {
                $('html, body, pre, code, kbd, samp').css('font-family', $(this).val());
            });
            $('#bold').click(function() {
                var weight = $(this).prop('checked') ? 'bold' : 'normal';
                $('html, body, pre, code, kbd, samp, h1').css('font-weight', weight);
            });
            $('#italic').click(function() {
                var weight = $(this).prop('checked') ? 'italic' : 'normal';
                $('html, body, pre, code, kbd, samp, h1').css('font-style', weight);
            });

            setInterval(function() {
                var amount = (parseInt($('#song').attr('value'), 10) + 1) % 101
                $('#song').attr('value', amount);
            }, 50)
        });
    </script>

<body>
    <h1>
        <img src="{{ STATIC}}images/tomato.png" class="tomato-img"> Tomato Radio Automation <img src="{{ STATIC}}images/tomato.png" class="tomato-img">
    </h1>
    <div class="nes-container with-title">
        <p class="title">Please Login</p>
        <form method="post" action="{{ PATH }}">
            <div class="items">
                <div class="nes-field is-inline">
                    <label for="username">Username:</label>
                    <input type="text" id="username" name="username" class="nes-input">
                </div>
                <div class="nes-field is-inline">
                    <label for="password">Password:</label>
                    <input type="password" id="password" name="password" class="nes-input">
                </div>
                <div class="nes-field is-inline">
                    <label for="font">Input select:</label>
                    <div class="nes-select">
                        <select id="font" name="font">
                            <option value="" disabled selected hidden>Select...</option>
                            {% for name, url in fonts %}
                                <option value="{{ name }}">{{ name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div>
                    <label>
                        <input type="checkbox" class="nes-checkbox" name="bold" id="bold">
                        <span>font-weight: bold</span>
                    </label>
                </div>
                <div>
                    <label>
                        <input type="checkbox" class="nes-checkbox" name="italic" id="italic">
                        <span>font-style: italic</span>
                    </label>
                </div>
                <input type="submit" class="nes-btn is-primary" value="Login">
            </div>
        </form>
    </div>

    <div class="nes-container">
      <p>
        Song Demo: Diary of the Dust
      </p>

      <progress id="song" class="nes-progress is-success" value="0" max="100"></progress>

    </div>

    <div class="nes-container with-title">
      <p class="title">Let's get it lorem ipsum in here!</p>
    <p>
      {{ lipsum() }}
    </p>
    </div>
</body>
</html>
