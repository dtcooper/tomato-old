<!DOCTYPE html>
<html>
<head>
  <title>Tomato Radio Automation</title>

  <link href="css/nes-2.3.0.min.css" rel="stylesheet">
  <link href="css/styles.css" rel="stylesheet">

  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/mustache-3.1.0.min.js"></script>
  <script src="js/wavesurfer-3.3.1.min.js"></script>
  <script src="js/base.js"></script>
  <script src="js/sync.js"></script>
  <script src="js/login.js"></script>
  <script>
    var audioPaths = [
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Billy Bragg - The Unwelcome Guest.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Bob Dylan - Lay Lady Lay.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Brian Lopez - Maslows Hierarchy.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Buck Owens - Excuse Me (I Think Ive Got A Heartache).mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Buck Reid - Cry.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Buddy Emmons - (My Lifes Like A) Dusty Road.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Buddy Emmons - Gravy Waltz.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Buddy Emmons - Someone Out In Dallas (Has Your Number).mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Buddy Emmons - Sunday In Dixie.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Buddy Emmons - Wild Mountain Thyme.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Buddy Emmons - Witchcraft.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Connie Smith - Dont Forget (I Still Love You).mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Connie Smith - Even the Bad Times Are Good.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Connie Smith - Once a Day.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Conway Twitty - Fifteen Years Ago.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Conway Twitty - Hello Darlin.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Daft Punk - Fragments of Time.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Daniel Lanois - Frozen.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/David Crosby - Laughing.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/David Hartley - The Blame.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Dolly Parton - Two Little Orphans.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Don McGinnis - Memory Bound.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Elton John - Tiny Dancer.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ernest Tubb - Half A Mind.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ernest Tubb - Waltz Across Texas.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Frank Zappa - It Just Might Be A One-Shot Deal.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Gary Carter - Shenandoah.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/George Jones - He Stopped Loving Her Today.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/George Jones - If Loving You Starts Hurting Me.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/George Jones - Once Youve Had the Best - Single Version.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/George Jones - Pass Me By (If Youre Only Passing Through).mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/George Jones - She Thinks I Still Care.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/George Morgan - Please Dont Let Me Love You.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/George Morgan - Too Busy Saying Goodbye.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/George Strait - When Did You Stop Loving Me.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Gram Parsons - Brand New Heartache.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Gram Parsons - Love Hurts - Remastered Version.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Gram Parsons - Return of the Grievous Angel - Remastered Version.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Gram Parsons - Thats All It Took - Remastered Version.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Grateful Dead - Dire Wolf.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Grateful Dead - Pride Of Cucamonga.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Greg Leisz - Wild Mountain Thyme.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Gustavo Santaolalla - The Wings.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Hank Locklin - Country Hall of Fame.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Hank Thompson - Red Necks White Socks and Blue Ribbon Beer.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/JayDee Maness - This Cold War With You.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Jim Loessberg - Jonesy.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Jim Loessberg - Midnight Silence.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Jim Loessberg - On Green Dolphin Street.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Jim Loessberg - Sawed-Off Shotgun.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Joan Baez - Green Green Grass Of Home.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Joe Goldmark - China Cat Sunflower.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Joe Goldmark - Dirty Work.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Joe Goldmark - Helpless.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Joe Goldmark - I Feel Fine.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Joe Goldmark - Peaches en Regalia.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Joe Goldmark - Penny Lane.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Joe Goldmark - Ring Of Fire.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Joe Goldmark - The Fez.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Joe Goldmark - The High Road.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/John Prine - Fifteen Years Ago (feat. Lee Ann Womack).mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/John Prine - Whos Gonna Take the Garbage Out (feat. Iris Dement).mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Johnny Cash - If I Told You Who It Was.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Johnny Paycheck - Shes All I Got.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Joshua Hedley - Counting All My Tears.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/June Stearns - Just Another Song.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Kitty Wells - Password.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Kitty Wells - Will Your Lawyer Talk To God.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Laura Veirs - Seven Falls.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Lenny Breau - Blue Moon Of Kentucky.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Linda Ronstadt - Blue Bayou.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Link Wray - Tuscon Arizona.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Lloyd Green - Red River Valley.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Lloyd Green - Venus Moon.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Lloyd Green - When You And I Were Young Maggie.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Lloyd Green and Jay Dee Maness - Hickory Wind.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Lloyd Green and Jay Dee Maness - One Hundred Years From Now.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Lloyd Green and Jay Dee Maness - You Aint Going Nowhere.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Loretta Lynn - Dont Come Home A-Drinkin (With Lovin On Your Mind).mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Loretta Lynn - Mr. And Mrs. Used To Be.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Lyle Lovett - If I Had A Boat.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Merle Haggard  The Strangers - I Threw Away The Rose.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Merle Haggard - Someday Well Look Back.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Merle Haggard - The Bottle Let Me Down.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/New Riders of the Purple Sage - Lonesome L.A. Cowboy.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Nick Zala - Amazing Grace.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Nick Zala - Swing Low Sweet Chariot.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Patrick Park - Something Pretty.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Patsy Cline - Church a Courtroom Then Goodbye.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Paul Kantner - Have You Seen the Stars Tonite.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Pete Drake - Forever.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Pete Drake - Pleading.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Pete Drake - Till Tomorrow.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Pickin On Series - Loser.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Pickin On Series - To Lay Me Down.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ray Pennington - Dardanella.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ray Pennington - Deep Purple.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ray Pennington - Jersey Bounce.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ray Pennington - Lily Dale.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ray Pennington - Rubber Dolly.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ray Pennington - The Right Side Of Wrong.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ray Price - A Way to Survive.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ray Price - Healing Hands of Time.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ray Price - Heres To You.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ray Price - Night Life.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ray Price - Swinging Doors (Swang In Doors).mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ray Price - The Wild Side of Life.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ray Price - Under Your Spell Again - Single Version.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ray Price - You Took Her Off My Hands (Now Please Take Her Off My Mind) - Single Version.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Red Rhodes - Danas Waltz.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Red Sovine - 18 Wheels A Hummin Home Sweet Home.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Red Sovine - Thats When She Started To Stop Loving You.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Ricky Skaggs - Ill Take the Blame.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Rose Lee Maphis - Ive Come To Take You Home.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Santo  Johnny - Sleep Walk.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Shot Jackson - Honky Tonk Angels.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Shot Jackson - Singing Strings Of Steel.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Steelism - Linus  Lucy.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Steelism - Marfa Lights.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Talking Heads - People Like Us - 2005 Remaster.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Tammy Wynette - Crying Steel Guitar.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Tammy Wynette - I Dont Wanna Play House.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Tammy Wynette - Stand By Your Man.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/Tammy Wynette - There Goes My Everything.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/The Bellamy Brothers - Old Hippie.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/The Byrds - All I Have Are Memories - instrumental.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/The Byrds - Hickory Wind.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/The Country Side Of Harmonica Sam - A Drink After Midnight.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/The Country Side Of Harmonica Sam - Lookout Heart.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/The Country Side Of Harmonica Sam - Unjust Friends.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/The Flying Burrito Brothers - Crazy Arms.mp3',
      'http://audio/Users/dcooper/spotify-exporter/tracks/Pedal Steel/The Flying Burrito Brothers - Green Green Grass Of Home.mp3'
    ];

    var wavesurfer1, wavesurfer2;
    $(function() {
      var kwargs = {
        normalize: true,
        height: 125,
        barWidth: 5,
        hideScrollbar: true,
        responsive: true,
        cursorWidth: 3,
        cursorColor: '#ffcc00'
      };

      wavesurfer1 = WaveSurfer.create(Object.assign({
        container: '#waveform1',
        waveColor: 'violet',
        progressColor: 'purple'
      }, kwargs));
      wavesurfer2 = WaveSurfer.create(Object.assign({
        container: '#waveform2',
        waveColor: 'lime',
        progressColor: 'green'
      }, kwargs));

      wavesurfer1.on('ready', function() {
        wavesurfer1.play();
      });
      wavesurfer1.on('finish', function() {
        wavesurfer2.play();
      });
      wavesurfer1.load(audioPaths[Math.floor(Math.random() * audioPaths.length)]);
      wavesurfer2.load(audioPaths[Math.floor(Math.random() * audioPaths.length)]);
    });
  </script>
</head>
<body>
  <div id="loading"></div>

  <div id="app">
    <header>
      <!-- 1. Convert header contents to flex
           2. Swap status and menu
        -->
      <div id="dropdown">
        <button class="nes-btn btn-primary">
          &#x00BB;
        </button>
        <div>
          <div class="nes-container is-rounded">
            <p>
              <button class="nes-btn is-success" onclick="sync();">Sync</button>
              <button class="nes-btn" onclick="loadBlock();">Load Block</button>
              <button class="nes-btn is-primary" onclick="cef.bridge.toggle_fullscreen();">Toggle Fullscreen</button>
              <button class="nes-btn is-warning" onclick="showModal('logout-dialog');">Logout</button>
              <button class="nes-btn is-error" onclick="showModal('close-dialog');">Quit</button>
            </p>
          </div>
        </div>
      </div>

      <h1>
        <img src="images/tomato.png">
        Tomato Radio Automation
        <img src="images/tomato.png">
      </h1>

      <div id="connection-status" class="nes-text is-warning nes-pointer" data-content="loading">
        *
      </div>
    </header>

    <section>
      <div class="nes-container with-title">
        <p class="title">Now Playing</p>

        <div id="waveform1" class="nes-pointer" style="margin-bottom: 20px;"></div>

        <p class="center">
          <button class="nes-btn is-success" onclick="wavesurfer1.playPause();">Play / Pause</button>
          <button class="nes-btn is-error" onclick="wavesurfer1.stop();">Stop</button>
          <button class="nes-btn is-warning" onclick="wavesurfer1.load(audioPaths[Math.floor(Math.random() * audioPaths.length)]);">New Track</button>
        </p>

        <div id="waveform2" class="nes-pointer" style="margin-bottom: 20px;"></div>

        <p class="center">
          <button class="nes-btn is-success" onclick="wavesurfer2.playPause();">Play / Pause</button>
          <button class="nes-btn is-error" onclick="wavesurfer2.stop();">Stop</button>
          <button class="nes-btn is-warning" onclick="wavesurfer2.load(audioPaths[Math.floor(Math.random() * audioPaths.length)]);">New Track</button>
        </p>

        <!-- <progress class="nes-progress is-primary" value="50" max="100" data-text-fill="test content test content test content test content test content test content test content test content test content"></progress> -->
      </div>
    </section>

    <main>
      <div id="play-queue-container" class="nes-container with-title">
        <p class="title">Play Queue</p>
        <div class="scrollable">
          <script id="play-queue-template" type="text/x-mustache">
            {{# errors.length }}
              <div class="nes-container with-title">
                <p class="title">Error Loading Stop Set</p>
                 <ul class="nes-list is-circle">
                  {{# errors }}
                    <li>{{ . }}</li>
                  {{/ errors }}
                  </ul>
              </div>
            {{/ errors.length }}

            {{# stopset }}
              <div class="nes-container with-title">
                <p class="title">{{ . }}</p>
                <div class="lists">
                  <ul class="nes-list is-circle">
                  {{# assets }}
                    <li>
                      <span style="background-color: #{{color}}">[{{ rotator }}]</span>
                      {{ asset }}<br>
                      <audio src="{{ url }}" controls></audio>
                    </li>
                  {{/ assets }}
                  </ul>
                </div>
              </div>
            {{/ stopset }}

            <div class="nes-container with-title">
              <p class="title">Wait</p>
              <p>Wait for {{ wait }} seconds</p>
            </div>
          </script>
          <div id="play-queue"></div>
        </div>
      </div>
    </main>

    <footer>
      <p class="center">
        Copyright &copy; 2019-<script>document.write('' + (new Date()).getFullYear());</script>,
        <a href="mailto:david.cooper@burningman.org" data-description="david.cooper@burningman.org">David Cooper</a> &amp;
        <a href="https://bmir.org" data-description="bmir.org">BMIR</a>. All rights reserved.
      </p>
    </footer>

  </div>

  <script id="dialog-template" type="text/x-mustache">
    <dialog class="nes-dialog is-rounded" id="{{ id }}-dialog">
      <form method="dialog">
        <p class="title">{{ title }}</p>
        <p>
          {{# body_html }}{{& body_html }}{{/ body_html }}
          {{# body }}<span class="nes-text is-error">{{ body }}</span>{{/ body }}
        </p>
        {{# buttons.length }}
          <menu class="dialog-menu right">
            {{# buttons }}
              <button class="nes-btn{{ #class }} {{ class }}{{/ class }}"{{# id }} id="{{ id }}"{{/ id }}>
                {{ text }}
              </button>
            {{/buttons}}
          </menu>
        {{/ buttons.length }}
      </form>
    </dialog>
  </script>

  <script id="login-template" type="text/x-mustache">
    <div id="login-errors"></div>

    <div class="nes-field is-inline">
      <label for="hostname">Host:</label>
      <input type="text" id="hostname" class="nes-input" placeholder="eg. tomato.host.com or 1.2.3.4">
    </div>
    <div class="center">
      <label>
        <input type="radio" class="nes-radio" name="protocol" value="https" checked>
        <span>Secure (https)</span>
      </label>
      <label>
        <input type="radio" class="nes-radio" name="protocol" value="http">
        <span>Insecure (http)</span>
      </label>
    </div>
    <div class="nes-field is-inline auth-field">
      <label for="username">Username:</label>
      <input type="text" id="username" class="nes-input" placeholder="Enter username">
    </div>
    <div class="nes-field is-inline auth-field">
      <label for="password">Password:</label>
      <input type="password" id="password" class="nes-input" placeholder="Enter password">
    </div>
  </script>

</body>
</html>
